# Advent of Code 2023 Rust 解题代码

**内含解题代码**，我只会在每道题的排行榜满了后再上传代码。

我还在入门 Rust，仅供参考，欢迎批评指正。

## 运行方式

`cargo run --bin day1` 运行 day1 的解题代码，以此类推。

## 代码结构

`data` 目录下是输入数据，`src` 目录下是解题代码。

## 额外想法

- **Day1**：有一些全局静态只读的信息时，想避免每次调用都在栈上写入，于是挪到顶层改成 const，结果发现还挺麻烦的。要重命名成大写，还不能用 Vec，还要写类型。
- **Day2**：感觉没有 monad 的 do 记法，写 parser 不太方便。我选择了硬写成 monad 风格，这样学习成本比较低，在我看来代码也比较直观，但不断重复的噪音太多了。更好的做法应该是多用一些 `nom::combinator` 和 `nom::sequence` 里的函数，但我感觉不用这些函数也很好写，而且反而更清晰直观一些（例如 `terminated`，完全不如先后调用两个 parser 然后扔掉第二个 parser 的结果来得直观）。另外，因为不太懂生命周期的逻辑（之前写过的函数正好都被自动推断了合适的生命周期，但闭包的规则变了，和函数不一样），导致花了很久研究为什么把函数改成一模一样的闭包就总是报错（最小复现方法：`let f = |x: &str| -> &str { x };`）。
